{"is_source_file": true, "format": "JavaScript", "description": "This file defines the ProductsController class which provides CRUD operations for product entities via HTTP endpoints. It includes methods for listing products, fetching a product by ID, creating, updating, and removing products, interacting with the models and validation utilities.", "external_files": ["../models", "../utils/validators"], "external_methods": ["models.Products.all", "models.Products.byId", "models.Products.create", "models.Products.update", "models.Products.remove", "v.validateProductCreate", "v.validateProductUpdate"], "published": ["new ProductsController()"], "classes": [{"name": "ProductsController", "description": "Controller class managing product-related API endpoints."}], "methods": [{"name": "list(req, res)", "description": "Returns a list of all active products.", "scope": "ProductsController", "scopeKind": "class"}, {"name": "get", "description": "Retrieves a product by its ID."}, {"name": "adminCreate", "description": "Creates a new product as an administrator."}, {"name": "adminUpdate", "description": "Updates an existing product as an administrator."}, {"name": "adminRemove", "description": "Removes a product as an administrator."}], "calls": ["models.Products.all", "models.Products.byId", "models.Products.create", "models.Products.update", "models.Products.remove", "v.validateProductCreate", "v.validateProductUpdate"], "search-terms": ["products controller", "CRUD products", "product API endpoints", "product model interaction", "validator"], "state": 2, "file_id": 19, "knowledge_revision": 42, "git_revision": "", "ctags": [{"_type": "tag", "name": "ProductsController", "path": "/home/kavia/workspace/code-generation/unified-e-commerce-platform-186146-186156/backend/src/controllers/products.js", "pattern": "/^class ProductsController {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "active", "path": "/home/kavia/workspace/code-generation/unified-e-commerce-platform-186146-186156/backend/src/controllers/products.js", "pattern": "/^    if (!prod || prod.active === false) return res.status(404).json({ error: 'Not found' });$/", "language": "JavaScript", "kind": "field", "scope": "ProductsController", "scopeKind": "class"}, {"_type": "tag", "name": "created", "path": "/home/kavia/workspace/code-generation/unified-e-commerce-platform-186146-186156/backend/src/controllers/products.js", "pattern": "/^    const created = models.Products.create(value);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/unified-e-commerce-platform-186146-186156/backend/src/controllers/products.js", "pattern": "/^module.exports = new ProductsController();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/unified-e-commerce-platform-186146-186156/backend/src/controllers/products.js", "pattern": "/^  list(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "ProductsController", "scopeKind": "class"}, {"_type": "tag", "name": "models", "path": "/home/kavia/workspace/code-generation/unified-e-commerce-platform-186146-186156/backend/src/controllers/products.js", "pattern": "/^const models = require('..\\/models');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ok", "path": "/home/kavia/workspace/code-generation/unified-e-commerce-platform-186146-186156/backend/src/controllers/products.js", "pattern": "/^    const ok = models.Products.remove(req.params.id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "prod", "path": "/home/kavia/workspace/code-generation/unified-e-commerce-platform-186146-186156/backend/src/controllers/products.js", "pattern": "/^    const prod = models.Products.byId(req.params.id);$/", "language": "JavaScript", "kind": "field", "scope": "ProductsController", "scopeKind": "class"}, {"_type": "tag", "name": "prod", "path": "/home/kavia/workspace/code-generation/unified-e-commerce-platform-186146-186156/backend/src/controllers/products.js", "pattern": "/^    if (!prod || prod.active === false) return res.status(404).json({ error: 'Not found' });$/", "language": "JavaScript", "kind": "field", "scope": "ProductsController", "scopeKind": "class"}, {"_type": "tag", "name": "req", "path": "/home/kavia/workspace/code-generation/unified-e-commerce-platform-186146-186156/backend/src/controllers/products.js", "pattern": "/^  get(req, res) {$/", "language": "JavaScript", "kind": "field", "scope": "ProductsController", "scopeKind": "class"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/unified-e-commerce-platform-186146-186156/backend/src/controllers/products.js", "pattern": "/^    return res.json(prod);$/", "language": "JavaScript", "kind": "field", "scope": "ProductsController", "scopeKind": "class"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/unified-e-commerce-platform-186146-186156/backend/src/controllers/products.js", "pattern": "/^  get(req, res) {$/", "language": "JavaScript", "kind": "field", "scope": "ProductsController", "scopeKind": "class"}, {"_type": "tag", "name": "updated", "path": "/home/kavia/workspace/code-generation/unified-e-commerce-platform-186146-186156/backend/src/controllers/products.js", "pattern": "/^    const updated = models.Products.update(req.params.id, value);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "v", "path": "/home/kavia/workspace/code-generation/unified-e-commerce-platform-186146-186156/backend/src/controllers/products.js", "pattern": "/^const v = require('..\\/utils\\/validators');$/", "language": "JavaScript", "kind": "constant"}], "hash": "95a32ed457a228e46aa0ee196536aefd", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/controllers/products.js", "fields": [{"name": "if (!prod || prod.active === false) return res.status(404).json({ error: 'Not found' });", "scope": "ProductsController", "scopeKind": "class", "description": "unavailable"}, {"name": "module.exports = new ProductsController();", "scope": "module", "scopeKind": "class", "description": "unavailable"}, {"name": "const prod = models.Products.byId(req.params.id);", "scope": "ProductsController", "scopeKind": "class", "description": "unavailable"}, {"name": "get(req, res) {", "scope": "ProductsController", "scopeKind": "class", "description": "unavailable"}, {"name": "return res.json(prod);", "scope": "ProductsController", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"42": ""}]}